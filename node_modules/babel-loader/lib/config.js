var path = require("path");

var exists = require("./utils/exists");

var configs = [".babelrc", ".babelrc.js", "package.json"];

module.exports = function find(fs, start) {
  for (var _i = 0; _i < configs.length; _i++) {
    var config = configs[_i];
    config = path.join(start, config);

    if (exists(fs, config)) {
      if (path.basename(config) !== "package.json" || typeof require(config).babel === "object") {
        return config;
      }
    }
  }

  var up = path.dirname(start); // Reached root

  if (up !== start) {
    return find(fs, up);
  }
};